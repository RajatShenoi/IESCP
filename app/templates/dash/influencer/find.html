{% extends 'layout.html' %}

{% from 'macros.html' import display_errors, display_campaign_card_inf %}

{% block title %} Find Campaigns {% endblock %}

{% block body %}
<div class="row">
    <div class="col-12 col-md-6">
        <h4>Active Campaigns</h4>
    </div>
    <form class="d-flex col-12 col-md-6 mb-2" method="post">
        {{ form.csrf_token }}
        {{ form.search(class="form-control me-2", placeholder="Search") }}
        <button class="btn btn-outline-success" type="submit">Search</button>
    </form>
</div>
{% if campaigns | length != 0 %}
<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-4">
    {% for campaign in campaigns|sort(reverse=true, attribute="start_date") %}
    {{display_campaign_card_inf(campaign.image, campaign.name, campaign.description, campaign.id)}}
    {% endfor %}
</div>
{% else %}
<p>No campaigns that match the search.</p>
{% endif %}
{% endblock %}